{% set hasErrors = form.vars.errors|length or form.startDate.vars.errors|length or form.endDate.vars.errors|length %}

<div class="card shadow-lg rounded-4 mt-4 mb-4 mx-auto" style="max-width: 700px;">
    <div class="card-header bg-primary text-white text-center rounded-top-4">
        <h4 class="mb-0">
            {{ button_label is defined and button_label == 'Update' ? 'Edytuj wydarzenie' : 'Dodaj nowe wydarzenie' }}
        </h4>
    </div>
    <div class="card-body">
        {{ form_start(form, {'attr': {'class': 'row g-4'}}) }}

        <div class="col-md-6">
            {{ form_row(form.title, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="col-md-6">
            {{ form_row(form.category, {'attr': {'class': 'form-select'}}) }}
        </div>
        <div class="col-md-12">
            {{ form_row(form.description, {'attr': {'class': 'form-control', 'rows': 3}}) }}
        </div>
        <div class="col-md-6">
            {{ form_label(form.startDate) }}
            {{ form_widget(form.startDate, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="col-md-6">
            {{ form_label(form.endDate) }}
            {{ form_widget(form.endDate, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="col-md-12">
            {{ form_row(form.location, {'attr': {'class': 'form-select'}}) }}
        </div>

        {% if hasErrors %}
            <div class="col-12">
                <div class="alert alert-danger mt-2" role="alert" style="font-weight: bold; font-size: 1.1em;">
                    {% for error in form.vars.errors %}
                        {{ error.message }}<br>
                    {% endfor %}
                    {% for error in form.startDate.vars.errors %}
                        {{ error.message }}<br>
                    {% endfor %}
                    {% for error in form.endDate.vars.errors %}
                        {{ error.message }}<br>
                    {% endfor %}
                </div>
            </div>
        {% endif %}

        <div class="col-12 text-center mt-3">
            <button class="btn btn-success px-4 py-2" style="font-size: 1.1em;">
                {{ button_label|default('Zapisz') }}
            </button>
        </div>
        {{ form_end(form) }}
    </div>
</div>
